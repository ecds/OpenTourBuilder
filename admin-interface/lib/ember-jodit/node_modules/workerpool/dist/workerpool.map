{"version":3,"sources":["./dist/workerpool.js"],"names":["root","factory","exports","module","require","e","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_11__","__WEBPACK_EXTERNAL_MODULE_12__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","environment","pool","script","options","worker","methods","add","Promise","platform","isMainThread","cpus","Window","WorkerGlobalScope","process","connected","self","navigator","hardwareConcurrency","length","Pool","workers","tasks","forkArgs","forkOpts","debugPortStart","nodeWorker","validateMaxWorkers","maxWorkers","Math","max","minWorkers","validateMinWorkers","_ensureMinWorkers","_boundNext","_next","bind","WorkerHandler","ensureWorkerThreads","isNumber","isInteger","TypeError","value","round","prototype","exec","method","params","Array","isArray","resolver","defer","task","timeout","push","originalTimeout","promise","delay","indexOf","String","proxy","arguments","Error","then","forEach","slice","_getWorker","me","shift","pending","catch","terminated","_removeWorker","i","busy","debugPort","terminate","_removeWorkerFromList","index","splice","force","f","removeWorker","promises","termPromise","terminateAndNotify","all","clear","stats","totalWorkers","busyWorkers","filter","idleWorkers","pendingTasks","activeTasks","handler","parent","SyntaxError","_onSuccess","_onFail","resolved","rejected","_process","onSuccess","onFail","resolve","reject","s","_then","_resolve","result","fn","_reject","error","cancel","CancellationError","timer","setTimeout","TimeoutError","always","clearTimeout","callback","res","message","stack","remaining","results","constructor","name","WorkerThreads","tryRequire","moduleName","code","getDefaultWorker","Blob","window","URL","createObjectURL","blob","type","__dirname","setupBrowserWorker","Worker","isBrowserWorker","on","event","addEventListener","data","send","postMessage","setupWorkerThreadWorker","stdout","stderr","isWorkerThread","kill","disconnect","setupProcessWorker","child_process","fork","isChildProcess","resolveForkOptions","opts","processExecArgv","execArgv","join","inspectorActive","debugBrk","assign","concat","objectToError","obj","temp","props","Object","keys","_options","onError","terminating","terminationHandler","processing","undefined","create","dispatchQueuedRequests","requestQueue","ready","response","lastId","request","_tryRequire","_setupProcessWorker","_setupBrowserWorker","_setupWorkerThreadWorker","toObject","val","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","test1","getOwnPropertyNames","test2","fromCharCode","map","n","test3","split","letter","err","target","source","from","symbols","to","key","webpackContext","req","webpackContextResolve","./Pool","./Pool.js","./Promise","./Promise.js","./WorkerHandler","./WorkerHandler.js","./environment","./environment.js","./generated/embeddedWorker","./generated/embeddedWorker.js","./header","./header.js","./worker","./worker.js","convertError","reduce","product","defineProperty","enumerable","isPromise","parentPort","run","args","eval","apply","register"],"mappings":"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","file":"workerpool"}